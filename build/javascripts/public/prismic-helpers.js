!function(e){var n=function(e){for(var n,r={},t=/\+/g,i=/([^&=]+)=?([^&]*)/g,o=function(e){return decodeURIComponent(e.replace(t," "))};n=i.exec(e);)r[o(n[1])]=o(n[2]);return r};e.Helpers={getApiHome:function(e){Prismic.Api(Configuration.apiEndpoint,e,sessionStorage.getItem("ACCESS_TOKEN"))},buildContext:function(n,r){e.Helpers.getApiHome(function(e){var t={ref:n||e.data.master.ref,api:e,maybeRef:n&&n!=e.data.master.ref?n:"",maybeRefParam:n&&n!=e.data.master.ref?"&ref="+n:"",oauth:function(){var e=sessionStorage.getItem("ACCESS_TOKEN");return{accessToken:e,hasPrivilegedAccess:!!e}},linkResolver:function(e){return Configuration.linkResolver(t,e)}};r(t)})},withPrismic:function(n){e.Helpers.buildContext(e.Helpers.queryString.ref,function(e){n.apply(window,[e])})},queryString:n(window.location.search.substring(1)),encodedHash:n(window.location.hash.substring(1))}}(window);